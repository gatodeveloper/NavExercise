"use strict";function init(){for(var e=document.querySelectorAll("header .logo")[0],l=document.querySelectorAll("header nav")[0],s=document.querySelectorAll("nav ul a"),o=document.querySelectorAll("nav ul a.goto-true"),t=document.querySelectorAll(".opacity")[0],a=document.querySelectorAll(".icon-menu")[0],n=document.querySelectorAll("header .close-nav")[0],r=0;r<s.length;r++)s[r].parentNode.addEventListener("click",function(){removeAllClass(s,"active"),addClass(this,"active"),addClass(t,"show")},!1);for(var r=0;r<o.length;r++)o[r].addEventListener("click",function(){window.location.reload()},!1);t.addEventListener("click",function(){removeClass(this,"show"),removeAllClass(s,"active"),removeClass(l,"show"),removeClass(e,"show"),removeClass(a,"hide"),removeClass(n,"show")},!1),a.addEventListener("click",function(){toggleClass(e,"show"),toggleClass(t,"show"),toggleClass(l,"show"),toggleClass(this,"hide"),toggleClass(n,"show")},!1),n.addEventListener("click",function(){toggleClass(e,"show"),toggleClass(t,"show"),toggleClass(l,"show"),toggleClass(a,"hide"),toggleClass(this,"show")},!1)}function addClass(e,l){return e.classList.add(l),void 0}function removeClass(e,l){return e.classList.remove(l)}function removeAllClass(e){for(var l=0;l<e.length;l++)removeClass(e[l].parentNode,"active")}function toggleClass(e,l){e.classList.toggle(l)}function req(){function e(e,l){var s=document.createElement("div");for(s.innerHTML=l;s.children.length>0;)e.appendChild(s.children[0])}console.log("ajax",this.responseText);var l=JSON.parse(this.responseText),s=l.items,o="";s.forEach(function(e){var l=e.items,s=l.length>0?!0:!1,t='<li><a href="{{url}}" class="goto-'+!s+'">{{label}}</a></li>';if(t=t.replace("{{label}}",e.label),t=t.replace("{{url}}",e.url),s){var a="";l.forEach(function(e){var l='<li><a href="{{url}}" class="goto-true">{{label}}</a></li>';l=l.replace("{{label}}",e.label),l=l.replace("{{url}}",e.url),a+=l}),t=t.replace("</a>",'</a><i class="i-submenu"></i><ul class="submenu">'+a+"</ul>")}o+=t}),e(document.querySelectorAll("nav ul")[0],o),init()}var oReq=new XMLHttpRequest;oReq.onload=req,oReq.open("get","api/nav.json",!0),oReq.send();